<div class="container moveNav">
  <div class="row">
    <div class="col-sm-2">
      <dx-button
        stylingMode="contained"
        text="Create movie"
        type="default"
        [width]="200"
        (onClick)="showFormMovie()"
      >
      </dx-button>
    </div>
    <div class="col-sm">
      <app-search (newItemEvent)="searchFromText($event)"></app-search>
    </div>
  </div>
  <div class="row">
    <div *ngFor="let movieform of movies" class="col-xs">
      <app-card
        [movie]="movieform"
        (detailsItemEvent)="showDetailsMovie($event)"
      ></app-card>
    </div>
  </div>
</div>

<dx-popup
  [width]="500"
  [height]="500"
  [showTitle]="true"
  title="Add New Movie"
  [dragEnabled]="false"
  [closeOnOutsideClick]="true"
  [showCloseButton]="true"
  container=".dx-viewport"
  [(visible)]="popupVisible"
>
  <dx-form id="form" [formData]="currentMovie">
    <dxi-item dataField="title"></dxi-item>
    <dxi-item
      dataField="country"
      editorType="dxSelectBox"
      [editorOptions]="{ items: countries, value: '' }"
    ></dxi-item>
    <dxi-item
      dataField="gender"
      editorType="dxSelectBox"
      [editorOptions]="{ items: genders, value: '' }"
    ></dxi-item>
    <dxi-item dataField="imageUrl"></dxi-item>
    <dxi-item
      dataField="releaseDate"
      editorType="dxDateBox"
      [editorOptions]="{ width: '100%' }"
    ></dxi-item>
  </dx-form>
  <div class="row">
    <dx-button
      class="position-absolute bottom-0 end-0"
      stylingMode="contained"
      text="Send"
      type="success"
      [width]="200"
      (onClick)="sendNewMovie()"
      style="margin-top: 10px"
    >
    </dx-button>
  </div>
</dx-popup>

<dx-popup
  [width]="600"
  [height]="600"
  [(visible)]="popupDetailsVisible"
  [showTitle]="true"
  [closeOnOutsideClick]="true"
  [title]="movieDetails.title"
  [shading]="true"
  shadingColor="rgba(0, 0, 0, 0.5)"
  [dragEnabled]="false"
>
  <dx-scroll-view width="100%" height="100%">
    <div class="row">
      <div class="col-xs-3">
        <img class="center" [src]="movieDetails.imageUrl" style="width: 200px;" />
      </div>
    </div>

  </dx-scroll-view>
</dx-popup>
